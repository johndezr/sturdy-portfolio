---
import { Badge } from '@/components/ui/badge';
import { Image } from 'astro:assets';

type Post = {
  frontmatter: {
    title: string;
    pubDate: string;
    description: string;
    author: string;
    image: string;
    slug: string;
    tags: string[];
  };
};

const { post } = Astro.props as { post: Post };
const { title, description, image, slug, tags, pubDate } = post.frontmatter;
---

<div
  class="border-primary-100 rounded-xs p-2 shadow-xs md:max-w-5xl dark:border-gray-700 dark:bg-gray-800"
>
  <div class="flex flex-col md:flex-row">
    <!-- <a class="contents" href={`/post/${slug}`}>
      <Image inferSize src={image} alt={title} class="md:h-48 md:max-w-1/3" />
    </a> -->
    <div class="ml-2 flex flex-col p-2">
      <a href={`/posts/${slug}`}>
        <h5 class="mb-2 text-xl font-bold tracking-tight dark:text-white">
          {title}
        </h5>
      </a>
      <span class="text-muted-foreground text-xs">{pubDate}</span>
      <div class="my-2 flex flex-wrap gap-2">
        {
          tags.map((tag) => (
            <Badge class="rounded-full" variant="outline">
              {tag}
            </Badge>
          ))
        }
      </div>
      <p class="text-muted-foreground mb-3 text-sm">
        {description}
      </p>
    </div>
  </div>
</div>
